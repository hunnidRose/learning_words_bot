## üìö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–æ—Ç Telegram-–±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã:
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–µ–º—É –Ω–∞–±–æ—Ä—É —Å–ª–æ–≤
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
- –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –≤–ª–∏—è–ª–æ –Ω–∞ –¥—Ä—É–≥–∏—Ö
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å —á–∏—Å—Ç–æ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π


## üîß –¢–∞–±–ª–∏—Ü—ã

![](scheme_db.png)

---

### 1. `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö Telegram

| –ü–æ–ª–µ | –¢–∏–ø      | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è   | –û–ø–∏—Å–∞–Ω–∏–µ                                                          |
|------|----------|---------------|-------------------------------------------------------------------|
| `id` | `BIGINT` | `PRIMARY KEY` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π `chat_id` –∏–∑ Telegram. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |

---

### 2. `words` ‚Äî —Å–ª–æ–≤–∞—Ä—å —Å–ª–æ–≤
–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–ª–æ–≤–∞, –∫–∞–∫ –æ–±—â–∏–µ, —Ç–∞–∫ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ

| –ü–æ–ª–µ         | –¢–∏–ø           | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                            |
|--------------|---------------|-----------------|-------------------------------------------------------------------------------------|
| `id`         | `SERIAL`      | `PRIMARY KEY`   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–ª–æ–≤–∞                                                      |
| `russian`    | `VARCHAR(50)` | `NOT NULL`      | –°–ª–æ–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ                                                              |
| `english`    | `VARCHAR(50)` | `NOT NULL`      | –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π                                                               |
| `is_general` | `BOOLEAN`     | `DEFAULT FALSE` | –§–ª–∞–≥: `TRUE` ‚Äî —Å–ª–æ–≤–æ –æ–±—â–µ–µ (–¥–ª—è –≤—Å–µ—Ö), `FALSE` ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `FALSE` |

---

### 3. `users_words` ‚Äî —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å–ª–æ–≤–æ
–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º

| –ü–æ–ª–µ      | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ              |
|-----------|-----------|-----------------------|
| `user_id` | `BIGINT`  | –°—Å—ã–ª–∫–∞ –Ω–∞ `users(id)` |
| `word_id` | `INTEGER` | –°—Å—ã–ª–∫–∞ –Ω–∞ `words(id)` |

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –°–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á: `(user_id, word_id)` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- `ON DELETE CASCADE` ‚Äî –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–ª–æ–≤–∞, –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üß© –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### üåê –û–±—â–∏–µ —Å–ª–æ–≤–∞
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ (`/start`) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Å–ª–æ–≤–∞ —Å `is_general = TRUE`
- –ù–æ–≤—ã–µ –æ–±—â–∏–µ —Å–ª–æ–≤–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç ‚Äî –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è —É –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üßë –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—ë —Å–ª–æ–≤–æ ‚Äî –æ–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `words` —Å `is_general = FALSE`
- –°–ª–æ–≤–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `users_words`
- –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ —É –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏—Ö